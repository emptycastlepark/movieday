# Movies App

## Index

> 전체 영화 개수와 리뷰의 개수를 보여주는 페이지
>
> * 로그인한 사용자의 경우 영화 목록(movies_list)로 이동 가능
> * 로그인 하지 않은 사용자의 경우 인증 관련(Signup / Login) 페이지로 이동 가능
> * 인증에 성공할 경우 Movie Card로 이동

## Movie Card

> 전체 영화 목록을 Bootstrap의 Card Component로 보여주는 페이지
> 카드의 아래 부분에는 해당 영화의 리뷰 목록으로 이동하는 버튼과
> Modal Component를 작동하는 버튼이 있어서 클릭 시 Modal이 출력됨
>
> Modal에서는 사용자가 영화의 정보를 볼 수 있으며, 좋아요, 제외, 목록에 추가 등 분류할 수 있음
>
> 전체 목록을 context에 전달하고, pagination을 이용하여 보여주는 방식으로 작성했었으나,
> 너무 긴 로딩 시간(580개 Movie Data)로 인해 수정
> (로그인 이후 처음 화면이기 때문에 로딩 비용이 적어야 된다고 생각했기 때문에 이렇게 작성
> / 대신 페이지를 이동하거나 정렬을 바꿀때 토글 비용이 늘어남)
>
> 현재는 views.py에서 전체 영화 중 사용자가 보지 않기로 표시한 영화를 제외한 전체 개수만 전달
>
> 1. 전체 영화를 전달 받음 (현재 페이지는 0으로 설정)
> 2. Vue Component에서 현재 페이지에 해당하는 주소의 get_movies로 axios 요청 전달
>     * 원하는 장르 / 정렬 순서도 같이 전달 (genre와 key / 초기값은 모두, 평점순)
> 3. get_movies에서는 페이지 번호를 이용하여 영화들을 16개씩 끊어서 전달
> 4. 전달 받은 영화들을 한 페이지에 4x4 card component로 출력
> 5. 현재 페이지를 기준으로 -2~+2 페이지와 맨앞, 맨 뒤 페이지로 이동할 수 있는 버튼 출력
> 6. 버튼을 클릭할 경우 2번부터 반복 / 현재 페이지의 가장 위로 이동
>
> 위 과정은 Vue Component를 사용하여 새로고침이 일어나지는 않지만,
> 새로운 페이지로 이동할 때마다 axios 요청을 Django 서버로 보낼 수 있어야 됨
>
> 해당하는 영화의 수가 16의 배수일 경우 마지막 페이지로 이동할 경우
> 빈 페이지를 출력하는 문제가 생겨서 그 경우에만 최대 페이지 수를 -1 해줌



## Movie Recommend

> 총 3가지 영화 추천 방식을 생각 (기본적으로 평점이 높고, 최근 개봉한 18개의 영화를 출력)
>
> 1. 사용자의 분류를 통한 추천
>
>     사용자가 좋아요한 영화의 장르와 사용자의 선호 장르(사전 선택)한 장르의 영화를
>     평점이 높은 순서대로 추천
>
> 2. 전체 영화의 평점, 개봉일 기준 추천
>
>     전체 영화 중 사용자가 좋아요, 제외, 목록에 추가 한 영화를 제외한 영화 중 추천
>
> 3. 날씨 기준 추천
>
>     날씨 데이터는 Open Weather Map API를 사용하여 얻었으며,
>     위치 정보를 기반으로 데이터가 얻어지지만, 위치 정보 제공에 대한 거부감으로 인해
>     초기에는 개발자의 위치(반포본동)의 날씨를 기준으로 영화를 추천
>     별도의 버튼을 통해 사용자의 위치를 기반으로 추천받을 수 있도록 작성함
>
>     버튼을 클릭할 경우, Open Weather Map API에서 날씨 데이터를 받아오고,
>     해당 날씨 데이터를 get_movie_recommend라는 Django 서버로 보내서 추천 영화 목록을 받아옴
>
> 영화 데이터를 Bootstrap의 Carousel Component를 응용하여 6개씩 3페이지로 보여주고,
> 포스터 클릭 시 세부 정보를 Modal 로 출력



## Upcoming Movie

> 현재 날짜를 기준으로 미래에 개봉 예정인 영화는 매일 바뀌기 때문에,
> DB에 저장하지 않고 TMDB에서 데이터를 받아옴
> (데이터를 받아올 때 TMDB에 개봉 예정 영화 // 20 회만큼 요청을 보내야 되므로
> 자주 접속하는 것은 권장하지 않음)
>
> 기본적으로는 Card Component로 한 페이지에 모든 개봉 예정작을 보여주며,
> 버튼을 클릭할 경우 월별로 개봉 예정 영화를 볼 수 있음.
>
> 월별 이동 버튼을 클릭하면 개봉영화가 있는 달로 이동함



## Movie Review

> 메인 화면에서는 사용자의 평점이 높은 3개의 영화를 보여줌
>
> 이후 전체 리뷰 버튼을 클릭해서 전체 목록으로 이동 가능
> (해당 페이지에서 리뷰쓰러가기 버튼을 누른다면 영화를 직접 선택할 수 있지만, 
> 580개의 영화 중 하나를 골라야 되기 때문에 권장하지 않음)


